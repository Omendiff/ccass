<!DOCTYPE html>
<html>
<style>

</style>

<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/responsive/2.2.5/css/responsive.dataTables.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <title>Employee Information</title>
    <p style="background-color: #fefbe9; color: #183a1d; text-align: center; font-size: 3em; font-family: 'SaolDisplay', san-serif;">EMPLOYEE DATABASE</p>
  
</head>
	<body style="background-color: #fefbe9;">
  <!-- <div style="background-color: #e1eedd; color: #183a1d; width: 80%; margin: 10px auto; border-radius: 5px;"> -->
  <!-- <div style="width: 80%; margin: 10px auto;">
    <table id="tb1" class="table table-bordered table-hover" style="background-color: #e1eedd;">
        <thead style="background-color: #183a1d; color: #fefbe9; text-align: center;">
          <tr>
            <th scope="col">Employee ID</th>
            <th scope="col">First Name</th>
            <th scope="col">Last Name</th>
            <th scope="col">Primary Skills</th>
            <th scope="col">Location</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>{{ result[0] }}</td>
            <td>{{ result[1] }}</td>
            <td>{{ result[2] }}</td>
            <td>{{ result[3] }}</td>
            <td>{{ result[4] }}</td>
          </tr>
        </tbody>
      </table>
    </div> -->

<!-- ---------------------------------------------------------------------------------------------------------------- -->
<div class="table-responsive">
    <table class="responsive nowrap" style="width:100%" id="staff_table" >
        <div>
            <input type="text" id="S_ID"  placeholder="Search Staff ID">
            <input type="text" id="S_Name"  placeholder="Search Name">
        </div>
        <thead>
            <tr>
                <th style="text-align:center;">Employee ID</th>
                <th style="text-align:center;">First Name</th>
                <th style="text-align:center;">Last Name</th>
                <th style="text-align:center;">Image</th>
                <th style="text-align:center;">Primary Skills</th>
                <th style="text-align:center;">Location</th>
                <th style="text-align:center;">Edit</th>
                <th style="text-align:center;">Delete</th>
            </tr>
        </thead>
        <tbody>
            {% for row in data %}
            <tr>
                <td style='text-align:center;'>{{row.0}}</td>
                <td style='text-align:center;'>{{row.1}}</td>
                <td style='text-align:center;'>{{row.2}}</td>
                <td style='text-align:center;'><img src='{{row.8}}' alt='No Image' style='width:100px;height:100px' data-toggle='modal' data-target='#imagemodal' id='ZoomImage'></td>
                <td style='text-align:center;'>{{row.3}}</td>
                <td style='text-align:center;'>{{row.4}}</td>
                <td style='text-align:center;'><button formaction="/fetchdata2" class="btn btn-primary btn-xs editFunction">Edit</button></td>
                <td style='text-align:center;'><button formaction="/delemp" class="btn btn-danger btn-xs" onclick="return confirm('Are You Sure For Delete?')">Delete</button></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>


<!-- ---------------------------------------------------------------------------------------------------------------- -->

			
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.2.5/js/dataTables.responsive.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
    <script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>	
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script>
    function addrow() {
        var tbodyRef = document.getElementById('myTable').getElementsByTagName('tbody')[0];
        var row = tbodyRef.insertRow();
        var cell1 = row.insertCell(0);
        var cell2 = row.insertCell(1);
        var cell3 = row.insertCell(2);
        var cell4 = row.insertCell(3);
        var cell5 = row.insertCell(4);
        cell1.innerHTML = "{{ result[0] }}";
        cell2.innerHTML = "{{ result[1] }}";
        cell3.innerHTML = "{{ result[2] }}";
        cell4.innerHTML = "{{ result[3] }}";
        cell5.innerHTML = "{{ result[4] }}";
    }
    </script>

	</body>

</html>
<script>
    $(document).ready( function () {
      //Link DataTable
      var table =  $('#staff_table').DataTable({
        "showNEntries":true,
        "order":[],
        "columnDefs":[
          {
            "targets":[7],
            "orderable":false,
    
    
          },
        ],
        language: {
          search: "_INPUT_",
          searchPlaceholder: "Search records"
        }
      });
    
    $('#S_ID').on('keyup',function(){
      table
      .column(0)
      .search(this.value)
      .draw();
    })
    
    //DataTable Search
    $('#S_Name').on('keyup',function(){
      table
      .column(1)
      .search(this.value)
      .draw();
    })
    });
    
    //add employee
    $(document).ready(function(){  
          $(document).on('click', '.editFunction', function(){  
                var getEmpID = $(this).data("id1");
                var getFName = $(this).data("id2");
                var getLName = $(this).data("id3");
                var getPSkill = $(this).data("id4");
                var getLocation = $(this).data("id8");
                
                $('#getFName').val(getFName); 
                $('#getLName').val(getLName); 
                $('#getPSkill').val(getPSkill);  
                $('#getLocation').val(getLocation);
                $('#getEmpID').val(getEmpID);
          });  
    
        $(document).on('click', '#ZoomImage', function(){
            var Image = $(this).attr('src');
          $('#ShowImage').attr("src",Image);
        });
        
    });
    </script>